
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>PS PLAY - LINK</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
        <link rel="shortcut icon" type="image/x-icon" href="https://i.ibb.co/t8PFZNB/20231219-100949.png">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/plyr@3.6.2/dist/plyr.css">
        <script src="https://cdn.jsdelivr.net/npm/plyr@3.6.12/dist/plyr.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/hls.js@1.1.4/dist/hls.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
        <style>
            video {
                width: 100%;
                height: 100%;
                background: #000;
                max-width: 100%;
            }
            html {
                font-family: 'Poppins', sans-serif;
                background: #000;
                margin: 0;
                padding: 0;
            }

            body {
                margin: 0;
                font-family: 'Poppins', sans-serif;
                background-color: #000;
            }

            .modal {
                display: none;
                position: fixed;
                z-index: 1000;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.7);
                justify-content: center;
                align-items: center;
            }

            .modal-content {
                border-radius: 5px;
                background-color: rgba(255, 255, 255, 0.8);
                margin: 15% auto;
                padding: 20px;
                border: 1px solid #888;
                width: 80%;
                position: relative;
            }

            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: scale(0.95);
                }

                to {
                    opacity: 1;
                    transform: scale(1);
                }
            }

            .close {
                position: absolute;
                top: 10px;
                right: 15px;
                font-size: 40px;
                color: #888;
                cursor: pointer;
                transition: color 0.3s;
            }

            .close:hover {
                color: #333;
            }

            .modal-body {
                margin-bottom: 20px;
                font-size: 14px;
                color: #333;
            }

            .modal-body p {
                font-weight: 300;
                color: #444;
                font-size: 14px;
                margin-bottom: 20px;
            }

            .modal-buttons {
                display: flex;
                justify-content: space-between;
                gap: 10px;
            }

            .modal-buttons button {
                padding: 10px 15px;
                border-radius: 5px;
                border: none;
                font-size: 16px;
                cursor: pointer;
                flex: 1;
                transition: background-color 0.3s, transform 0.3s;
            }

            #joinChannel {
                background-color: #1a73e8;
                color: #fff;
                font-weight: bold;
            }

            #alreadyJoined {
                background-color: #f44336;
                color: #fff;
                font-weight: bold;
            }

            #joinChannel,
            #alreadyJoined {
                background-color: #1a73e8;
                color: #fff;
                font-weight: bold;
                padding: 15px 20px;
                border-radius: 5px;
                border: none;
                font-size: 13px;
                cursor: pointer;
                flex: 1;
                transition: background-color 0.3s, transform 0.3s;
                height: 45px;
                width: 150px;
            }

            #alreadyJoined {
                background-color: #f44336;
            }

            #joinChannel:hover,
            #alreadyJoined:hover {
                transform: scale(1.05);
            }

            #joinChannel:active,
            #alreadyJoined:active {
                transform: scale(1);
            }

            .modal-content h2 {
                font-size: 20px;
                font-weight: bold;
            }

            .modal-content p {
                font-size: 13px;
                color: #444;
            }
        </style>
    </head>
    <body>
        <video autoplay controls crossorigin poster="" playsinline style="--plyr-color-main:#15b4ff">
            <source id="m3u8-url" src="" type="application/x-mpegURL">
        </video>
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeModal">&times;</span>
                <h2>Join Our Telegram Channel</h2>
                <p>Stay updated with the latest streams and news.</p>
                <div class="modal-buttons">
                    <button id="joinChannel">Join Now</button>
                    <button id="alreadyJoined">Close</button>
                </div>
            </div>
        </div>
        <script>
        let channelID = "";
        </script>
        <script>
var urlParams = new URLSearchParams(window.location.search);
var ps = urlParams.get("url");
if (ps) {
  document.getElementById("m3u8-url").setAttribute("src", ps);
}
let streamUrl = "api.php?action=stream_live&id=" + channelID + "&type=hls&e=.m3u8";
if (channelID && !ps) {
  document.getElementById("m3u8-url").setAttribute("src", streamUrl);
} else {
  console.error("No stream URL or channel ID provided.");
}
const modal = document.getElementById("myModal");
const closeModal = document.getElementById("closeModal");
modal.style.display = "flex";
document.getElementById("alreadyJoined").onclick = function () {
  modal.style.display = "none";
};
document.getElementById("joinChannel").onclick = function () {
  window.open("https://telegram.me/livecricket_abot", "_blank");
  modal.style.display = "none";
};
closeModal.onclick = function () {
  modal.style.display = "none";
};
document.addEventListener("DOMContentLoaded", () => {
  const _0x2f9c3b = document.querySelector("video");
  const _0x18e4dc = _0x2f9c3b.getElementsByTagName("source")[0].src;
  if (Hls.isSupported()) {
    var _0x2652ae = {
      'maxMaxBufferLength': 0x64
    };
    const _0x2dbdfb = new Hls(_0x2652ae);
    _0x2dbdfb.loadSource(_0x18e4dc);
    _0x2dbdfb.on(Hls.Events.MANIFEST_PARSED, function (_0x1e3900, _0x18cd16) {
      const _0x408c91 = _0x2dbdfb.levels.map(_0x1209ae => _0x1209ae.height);
      const _0x20ec82 = {
        'quality': {
          'default': _0x408c91[0],
          'options': _0x408c91,
          'forced': true,
          'onChange': _0x300b7f => {
            _0x2dbdfb.levels.forEach((_0x1b1c8c, _0x4c4320) => {
              if (_0x1b1c8c.height === _0x300b7f) {
                _0x2dbdfb.currentLevel = _0x4c4320;
              }
            });
          }
        }
      };
      new Plyr(_0x2f9c3b, _0x20ec82);
    });
    _0x2dbdfb.attachMedia(_0x2f9c3b);
    window.hls = _0x2dbdfb;
  } else {
    new Plyr(_0x2f9c3b);
  }
});
document.addEventListener("DOMContentLoaded", () => {
  document.addEventListener("fullscreenchange", () => {
    if (document.fullscreenElement) {
      if (screen.orientation && screen.orientation.lock) {
        screen.orientation.lock("landscape")["catch"](_0x18b7f0 => {
          console.error("Error locking screen orientation:", _0x18b7f0);
        });
      }
    } else if (screen.orientation && screen.orientation.unlock) {
      screen.orientation.unlock()["catch"](_0x2463dd => {
        console.error("Error unlocking screen orientation:", _0x2463dd);
      });
    }
  });
});

   </script>
    </body>
</html>
